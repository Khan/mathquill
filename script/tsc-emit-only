#!/usr/bin/env node

var ts = require('typescript');

const compileTypescript = (tsSource) => {
  compilerOptions = {
    // module: 'commonjs',
    target: 'es5',
    // noImplicitAny: false,
    // sourceMap: false,
    // removeComments: false,
  };

  var jsSource = ts.transpileModule(tsSource, {
    compilerOptions,
  }).outputText;

  return jsSource;
};

let contents = '';

process.stdin.setEncoding('utf8');
process.stdin.on('data', (data) => {
  contents += data;
});
process.stdin.on('end', () => {
  var ts = compileTypescript(contents);
  console.log(ts);
});
process.stdin.resume();
